<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script>
  <title>Todos</title>
</head>

<body>
  <nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">Todo</span>
      <a href="/logout">
        <button class="btn btn-danger">Logout</button>
      </a>

    </div>
  </nav>
  <center><p style="color: red;">
      <%=errmessage%>
    </p>
    <p style="color: green;">
      <%=succmessage%>
    </p>
    <div style="display: flex; justify-content:center;">
      <div class="card" style="width: 40%; margin-top:50px">
        <div class="card-body">
          <center>
            <h4 class="card-title">Add Todo</h4>
          </center>
          <form action="/addtodo" method="POST">
            <div class="mb-3"></div>
              <input type="text" name="details" class="form-control" id="exampleInputEmail1"
                aria-describedby="emailHelp">
            </div>
            <button type="submit" class="btn btn-primary">Add</button>
          </form>
        </div>
      </div>
    </div>
    <div class="container" style="margin-top:20px">
      <div class="row">
        <div class="col-md-6" style="border: 2px solid black">
          <center>Pending Tasks</center>
          <hr />
          <% for (i=0; i<notdone.length; i++){%>
            <form action="/edit/<%=notdone[i]._id%>" method="POST">
            <div style="display: flex; justify-content: space-between">
              <span>
                <input name="details" type="text" value="<%=notdone[i].details%>" style="width: 100%; border: none; outline: none"/>
              </span>
              <div>
                <button type="submit" class="btn btn-warning">edit</button>
                <a href="/delete/<%=notdone[i]._id%>" class="btn btn-danger">delete</a>
                <a href="/check/<%=notdone[i]._id%>" class="btn btn-primary">check</a>
              </div>
            </div>
            <hr />
          </form>
            <%}%>
        </div>
        <div class="col-md-6" style="border: 2px solid black">
          <center>Completed Tasks</center>
          <hr />
          <% for (i=0; i<completed.length; i++){%>
            <div style="display: flex; justify-content: space-between">
              <span>
                <del>
                <%=completed[i].details%>
              </del>
              </span>
              <div>
                <a href="/uncheck/<%=completed[i]._id%>" class="btn btn-primary">uncheck</a>
                <a href="/delete/<%=completed[i]._id%>" class="btn btn-danger">delete</a>
              </div>
            </div>
            <hr />
            <%}%>
        </div>
      </div>
    </div>
</body>

</html>